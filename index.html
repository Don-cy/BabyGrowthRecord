<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="color-scheme" content="light"><title>å®å®æˆé•¿è®°å½•çº¯å‡€éšç§ç‰ˆ V5.5</title><style>:root{color-scheme:light}body{font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Microsoft YaHei",sans-serif;background-color:#fff0f5!important;background-image:linear-gradient(180deg,#fff0f5 0%,#e6f7ff 100%)!important;display:flex;justify-content:center;align-items:center;flex-direction:column;min-height:100vh;margin:0;color:#444;-webkit-tap-highlight-color:transparent;padding:20px 0;box-sizing:border-box}.container{background-color:#fff;padding:25px;border-radius:24px;box-shadow:0 10px 40px rgba(180,150,160,0.4);text-align:center;width:85%;max-width:400px;border:4px solid #fff;position:relative;z-index:10}.photo-wrapper{position:relative;width:120px;height:120px;margin:-60px auto 15px auto;border-radius:50%;border:4px solid #fff;box-shadow:0 5px 15px rgba(0,0,0,0.1);background-color:#f0f0f0;overflow:hidden;cursor:pointer;-webkit-transform:translateZ(0);-webkit-mask-image:-webkit-radial-gradient(white,black)}#babyPhoto{width:100%;height:100%;object-fit:cover;display:block}.photo-placeholder{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;color:#aaa;font-size:.8rem;background:#f8f8f8;text-align:center;line-height:1.2}#fileInput{display:none}.name-input{border:none;border-bottom:2px solid #ffd1d1;text-align:center;font-size:1.5rem;font-weight:bold;color:#555;width:80%;margin-bottom:20px;background:transparent;outline:none;padding:5px;border-radius:0}.name-input:focus{border-bottom-color:#ff9a9e}.input-group{background:#f9f9f9;padding:15px;border-radius:12px;margin-bottom:20px;text-align:left}label{font-size:.85rem;color:#888;margin-bottom:5px;display:block}input[type=date],input[type=datetime-local]{width:100%;padding:8px;border:1px solid #eee;border-radius:8px;font-size:1rem;box-sizing:border-box;margin-bottom:10px;background:#fff;-webkit-appearance:none}.time-row{display:flex;align-items:center;justify-content:space-between}.time-box{flex:1;display:flex;align-items:center;background:#fff;border:1px solid #eee;border-radius:8px;padding:5px 10px}.time-box input{border:none;width:100%;font-size:1.2rem;text-align:center;outline:none;color:#444;background:transparent}.colon{margin:0 10px;font-weight:bold;color:#ccc}#result{background:linear-gradient(135deg,#fff6f6 0%,#fff 100%);border:2px dashed #ffd1d1;border-radius:15px;padding:20px;min-height:80px}.age-main{color:#ff7eb3;font-size:1.2rem;font-weight:bold;margin-bottom:8px}.age-sub{color:#888;font-size:1rem}.number-highlight{font-size:1.6rem;color:#ff5e62;margin:0 2px;font-family:'Arial Rounded MT Bold',sans-serif}.total-days-badge{display:inline-block;margin-top:15px;padding:6px 18px;background-color:#ffe6ea;color:#ff5e62;border-radius:20px;font-size:.95rem;font-weight:bold;border:1px solid #ffccd5}.milestones-grid{display:flex;flex-wrap:wrap;justify-content:center;gap:8px;margin-top:15px;width:100%}.milestone-badge{background-color:#fff0f5;color:#ff9a9e;border:1px solid #ffccd5;border-radius:20px;padding:5px 10px;font-size:0.75rem;width:48%;box-sizing:border-box;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:flex;justify-content:center;align-items:center}.carousel-box{margin-top:20px;width:100%;aspect-ratio:16/9;background-color:#f9f9f9;border-radius:15px;position:relative;overflow:hidden;box-shadow:0 4px 10px rgba(0,0,0,0.05);border:1px solid #f0f0f0}.slide{position:absolute;width:100%;height:100%;opacity:0;transition:opacity 1s ease-in-out}.slide.active{opacity:1}.slide img{width:100%;height:100%;object-fit:cover;display:block}.upload-guide{position:absolute;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;color:#aaa;z-index:5;background-color:#fafafa}.clear-carousel{position:absolute;top:5px;right:5px;background:rgba(0,0,0,0.3);color:#fff;border:none;border-radius:50%;width:24px;height:24px;cursor:pointer;z-index:20;display:none;font-size:16px}.dots{position:absolute;bottom:10px;left:0;width:100%;display:flex;justify-content:center;z-index:10}.dot{width:6px;height:6px;background:rgba(255,255,255,0.5);border-radius:50%;margin:0 3px;transition:background .3s}.dot.active{background:#fff}#carouselInput{display:none}.event-box{margin-top:20px;width:100%;background-color:#f9f9f9;border-radius:15px;border:1px solid #f0f0f0;box-shadow:0 4px 10px rgba(0,0,0,0.05);padding:15px;box-sizing:border-box;text-align:left}.event-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;border-bottom:1px dashed #ffd1d1;padding-bottom:5px}.event-title{font-size:1rem;color:#ff9a9e;font-weight:bold}.btn-group{display:flex;gap:5px}.tool-btn{background:#fff;color:#ff9a9e;border:1px solid #ff9a9e;border-radius:12px;padding:2px 8px;font-size:.75rem;cursor:pointer;transition:all .2s}.tool-btn:active{background:#ff9a9e;color:#fff}.event-controls{display:flex;flex-direction:column;gap:8px;margin-bottom:10px;background:#fff;padding:10px;border-radius:8px;border:1px solid #eee}.event-row-1{display:flex;align-items:center;gap:10px}.event-row-2{display:flex;gap:5px}.event-date-in{flex:1}.date-only-check{display:flex;align-items:center;font-size:.8rem;color:#666;white-space:nowrap}.event-text-in{flex:1;border:1px solid #eee;border-radius:6px;padding:8px;font-size:.9rem;outline:none}.event-add-btn{background:#ff9a9e;color:#fff;border:none;border-radius:6px;padding:0 15px;font-size:1.2rem;cursor:pointer}.event-list{max-height:360px;overflow-y:auto;scrollbar-width:thin}.event-item{position:relative;background:#fff;padding:10px 12px;border-radius:10px;margin-bottom:8px;box-shadow:0 2px 5px rgba(0,0,0,0.02);border-left:3px solid #ff9a9e}.event-time-row{font-size:.75rem;color:#aaa;border-bottom:1px solid #f5f5f5;padding-bottom:4px;margin-bottom:4px;padding-right:20px}.event-content-flex{display:flex;justify-content:space-between;align-items:flex-start;margin-top:2px}.event-text{flex:1;font-size:0.95rem;color:#333;line-height:1.5;word-break:break-all}.star-btn{font-size:1.3rem;color:#ffd700;cursor:pointer;margin-left:10px;line-height:1.2}.edit-btn{position:absolute;right:35px;top:10px;color:#ddd;font-size:1.1rem;cursor:pointer;line-height:1}.edit-btn:hover{color:#4a90e2}.event-del{position:absolute;right:10px;top:10px;color:#ddd;font-size:1.2rem;cursor:pointer;line-height:1}.event-del:hover{color:#ff6b6b}.tips{font-size:.7rem;color:#bbb;margin-top:15px}.info-btn-wrapper{text-align:center;margin-top:15px}.info-btn{background:none;border:none;color:#999;font-size:.85rem;cursor:pointer;padding:5px 10px;border-bottom:1px dashed #ccc}.sync-btn-wrapper{text-align:center;margin-top:10px;display:flex;justify-content:center;gap:15px}.sync-btn{background:#e6f7ff;color:#4a90e2;border:1px solid #4a90e2;border-radius:20px;padding:5px 15px;font-size:.8rem;cursor:pointer}.sync-btn:active{background:#4a90e2;color:#fff}.reset-btn-wrapper{text-align:center;margin-top:10px;padding-bottom:20px}.reset-btn{background:none;border:none;color:#ff6b6b;font-size:.75rem;cursor:pointer;padding:5px;text-decoration:underline;opacity:0.7}.reset-btn:hover{opacity:1}.modal{display:none;position:fixed;z-index:999;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,0.5);backdrop-filter:blur(3px);animation:fadeIn .3s}.modal-content{background-color:#fff;margin:5% auto;padding:25px;border:1px solid #ffe6ea;width:85%;max-width:500px;border-radius:20px;box-shadow:0 15px 50px rgba(0,0,0,0.2);text-align:left;position:relative;max-height:80vh;overflow-y:auto}.modal-content h2{color:#ff5e62;font-size:1.1rem;margin-top:0;text-align:center;border-bottom:2px solid #fff0f5;padding-bottom:10px}.modal-content h3{color:#444;font-size:.95rem;margin-top:20px;margin-bottom:8px;border-left:4px solid #ff9a9e;padding-left:8px}.modal-content p,.modal-content li{color:#666;font-size:.85rem;line-height:1.6}.modal-content ul,.modal-content ol{padding-left:20px;margin:5px 0}.security-box{background:#fff0f5;padding:12px;border-radius:8px;border:1px solid #ffccd5;margin-bottom:15px}.security-text{color:#d64545;font-size:.85rem}.close-btn{color:#aaa;float:right;font-size:28px;font-weight:bold;cursor:pointer;margin-top:-10px;margin-right:-10px}.version-table{width:100%;border-collapse:collapse;margin-top:10px;font-size:.8rem}.version-table th{text-align:left;color:#ff9a9e;border-bottom:1px solid #eee;padding:5px}.version-table td{padding:5px;color:#666;border-bottom:1px solid #f9f9f9}@media screen and (max-width:480px){.container{width:96%;padding:15px}.milestone-badge{font-size:.65rem;padding:3px 2px;width:49%;letter-spacing:-0.5px}.event-title{font-size:.9rem}.tool-btn{padding:2px 5px;font-size:.7rem}.event-date-in{font-size:.8rem;padding:5px}.date-only-check{font-size:.75rem}.event-text-in{font-size:.9rem}.event-add-btn{padding:0 10px;font-size:1.1rem}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}#importInput,#jsonInput{display:none}</style></head><body><div class="container"><input type="file" id="fileInput" accept="image/*"><div class="photo-wrapper" onclick="document.getElementById('fileInput').click()"><img id="babyPhoto" style="display:none;" alt="å®å®ç…§ç‰‡"><div id="photoPlaceholder" class="photo-placeholder">ç‚¹å‡»ä¸Šä¼ <br>å¤´åƒ</div></div><input type="text" id="babyName" class="name-input" placeholder="è¾“å…¥å®å®å§“å"><div class="input-group"><label>å‡ºç”Ÿæ—¥æœŸä¸æ—¶é—´</label><input type="date" id="dateIn"><div class="time-row"><div class="time-box"><input type="number" id="hourIn" placeholder="12" min="0" max="23"><span style="font-size:0.8rem; color:#aaa;">æ—¶</span></div><div class="colon">:</div><div class="time-box"><input type="number" id="minIn" placeholder="00" min="0" max="59"><span style="font-size:0.8rem; color:#aaa;">åˆ†</span></div></div></div><div id="result"><div style="color:#ccc; padding-top:10px;">è¯·è¾“å…¥å‡ºç”Ÿä¿¡æ¯...</div></div><div id="milestoneList" class="milestones-grid"></div><div class="carousel-box"><input type="file" id="carouselInput" accept="image/*" multiple><div id="carouselSlides"></div><div id="uploadGuide" class="upload-guide" onclick="document.getElementById('carouselInput').click()"><div style="font-size:2rem; color:#ddd;">+</div><div style="margin-top:5px;">ä¸Šä¼ 5å¼ ç”Ÿæ´»ç…§<br><span style="font-size:0.7rem">(5ç§’è½®æ’­)</span></div></div><div id="carouselDots" class="dots"></div><button id="clearCarouselBtn" class="clear-carousel" onclick="clearCarousel(event)">Ã—</button></div><div class="event-box"><div class="event-header"><span class="event-title">ğŸ“… å®è´æˆé•¿å¤§äº‹ä»¶</span><div class="btn-group"><button class="tool-btn" onclick="importExcel()">ğŸ“¥ å¯¼å…¥</button><button class="tool-btn" onclick="exportExcel()">ğŸ“¤ å¯¼å‡º</button><input type="file" id="importInput" accept=".csv"></div></div><div class="event-controls"><div class="event-row-1"><input type="datetime-local" id="eventDate" class="event-date-in"><label class="date-only-check"><input type="checkbox" id="dateOnlyCheck"> åªè®°æ—¥æœŸ</label></div><div class="event-row-2"><input type="text" id="eventText" class="event-text-in" placeholder="è®°å½•ç¬¬ä¸€æ¬¡..."><button class="event-add-btn" onclick="addEvent()">+</button></div></div><div id="eventList" class="event-list"></div></div><div class="tips">* ä¿¡æ¯å’Œç…§ç‰‡ä»…ä¿å­˜åœ¨æ‚¨çš„è®¾å¤‡æœ¬åœ°</div></div><div class="info-btn-wrapper"><button id="infoBtn" class="info-btn">ğŸ“– ä½¿ç”¨è¯´æ˜ä¸å®‰å…¨å£°æ˜</button></div><div class="sync-btn-wrapper"><button class="sync-btn" onclick="exportAllData()">â˜ï¸ å¤‡ä»½å…¨éƒ¨æ•°æ®</button><button class="sync-btn" onclick="importAllData()">ğŸ“¥ æ¢å¤å…¨éƒ¨æ•°æ®</button><input type="file" id="jsonInput" accept=".json"></div><div class="reset-btn-wrapper"><button class="reset-btn" onclick="resetApp()">âš ï¸ æ¸…é™¤ç¼“å­˜æ¢å¤å‡ºå‚</button></div><div id="infoModal" class="modal"><div class="modal-content"><span class="close-btn">&times;</span><h2>å®å®æˆé•¿è®°å½• (çº¯å‡€éšç§ç‰ˆ)<br><span style="font-size:0.8em;font-weight:normal;color:#888">V5.5</span></h2><div class="security-box"><div class="security-text"><strong>ğŸ›¡ï¸ é¡¹ç›®å®‰å…¨æ ¸å¿ƒå£°æ˜ï¼š</strong><br>æœ¬å·¥å…·é‡‡ç”¨ 100% çº¯å‰ç«¯æ¶æ„è®¾è®¡ï¼Œæ‰¿è¯ºâ€œæ•°æ®é›¶ä¸Šä¼ â€ã€‚æ‰€æœ‰ç…§ç‰‡ã€å§“åã€å‡ºç”Ÿæ—¥æœŸã€å¤§äº‹ä»¶ç­‰ä¿¡æ¯ä»…ä¿å­˜åœ¨ç”¨æˆ·<strong>å½“å‰çš„æ‰‹æœº/ç”µè„‘æµè§ˆå™¨ç¼“å­˜</strong>ä¸­ï¼Œç»ä¸ä¼šç»è¿‡ä»»ä½•æœåŠ¡å™¨ï¼Œä¹Ÿä¸ä¼šè¢«å¼€å‘è€…æˆ–ç¬¬ä¸‰æ–¹è·å–ã€‚æ‚¨çš„æ•°æ®ï¼Œåªå±äºæ‚¨è‡ªå·±ã€‚</div></div><h3>ğŸ“– é¡¹ç›®ç®€ä»‹</h3><p>è¿™æ˜¯ä¸€ä¸ªä¸“ä¸ºæ–°æ‰‹çˆ¶æ¯è®¾è®¡çš„è½»é‡çº§ç½‘é¡µåº”ç”¨ã€‚å®ƒæ‘’å¼ƒäº†ä¼ ç»Ÿ App éœ€è¦æ³¨å†Œç™»å½•ã€ä¸Šä¼ æ•°æ®çš„ç¹çæµç¨‹ï¼Œæä¾›äº†ä¸€ä¸ªå³å¼€å³ç”¨ã€ç²¾ç¡®åˆ°åˆ†é’Ÿçš„å®å®å¹´é¾„è®¡ç®—å™¨ã€‚ç•Œé¢é‡‡ç”¨æ¸©é¦¨çš„æ¨±èŠ±ç²‰è‰²è°ƒï¼Œä¸ä»…èƒ½å®æ—¶æ˜¾ç¤ºå®å®çš„ç²¾ç¡®å¹´é¾„ï¼ˆå²/æœˆ/å¤©/æ—¶/åˆ†ï¼‰ï¼Œè¿˜èƒ½è‡ªåŠ¨è®¡ç®—â€œå·²å‡ºç”Ÿæ€»å¤©æ•°â€ã€æ»¡æœˆ/ç™¾å¤©/å‘¨å²çºªå¿µæ—¥ã€ç”Ÿæ´»ç…§è½®æ’­ä»¥åŠæˆé•¿å¤§äº‹ä»¶è®°å½•ã€‚</p><h3>âœ¨ æ ¸å¿ƒåŠŸèƒ½</h3><ul><li><strong>ğŸ“¸ æœ¬åœ°åŒ–ç…§ç‰‡è®°å¿†</strong>ï¼šæ”¯æŒç”¨æˆ·ä¸Šä¼ å®å®ç…§ç‰‡ï¼ˆå¤´åƒï¼‰ä»¥åŠ 5 å¼ ç”Ÿæ´»ç…§è½®æ’­ã€‚ç³»ç»Ÿæ ¹æ®è®¾å¤‡æ€§èƒ½æ™ºèƒ½å‹ç¼©å›¾ç‰‡ã€‚<br><span style="color:#999;font-size:0.8em">æŠ€æœ¯äº®ç‚¹ï¼šä½¿ç”¨ HTML5 Canvas æŠ€æœ¯åœ¨æœ¬åœ°å‹ç¼©å›¾ç‰‡ï¼Œå¹¶è½¬ç ä¸º Base64 å­—ç¬¦ä¸²å­˜å…¥æµè§ˆå™¨ localStorageã€‚å›¾ç‰‡ä»æœªç¦»å¼€è¿‡æ‚¨çš„è®¾å¤‡ã€‚</span></li><li><strong>â±ï¸ ç²¾å‡†æ—¶å…‰è®¡ç®—</strong>ï¼šè‡ªåŠ¨å¤„ç†é—°å¹´ã€å¤§å°æœˆé€»è¾‘ã€‚å®æ—¶è®¡ç®—å¹¶æ˜¾ç¤ºï¼šXå² Xä¸ªæœˆ Xå¤© Xå°æ—¶ Xåˆ†ã€‚ç‰¹åˆ«å‘ˆç°ï¼šç´¯è®¡å‡ºç”Ÿå¤©æ•°ï¼Œæ™ºèƒ½æ˜¾ç¤ºå·²è¾¾æˆçš„æ»¡æœˆã€ç™¾å¤©ã€1å‘¨å²çºªå¿µæ—¥ã€‚</li><li><strong>ğŸ“… æˆé•¿å¤§äº‹ä»¶</strong>ï¼šè®°å½•å®å®çš„æ¯ä¸€ä¸ªç¬¬ä¸€æ¬¡ï¼Œæ”¯æŒç²¾ç¡®åˆ°åˆ†é’Ÿï¼Œè‡ªåŠ¨æŒ‰æ—¶é—´å€’åºæ’åˆ—ï¼ˆæœ€è¿‘å‘ç”Ÿçš„åœ¨æœ€å‰ï¼‰ã€‚æ”¯æŒâ€œåªè®°æ—¥æœŸâ€æ¨¡å¼ã€‚æ”¯æŒäº‹ä»¶äºŒæ¬¡ç¼–è¾‘ä¸ä¿®æ­£ã€‚</li><li><strong>â˜… çºªå¿µæ—¥ç½®é¡¶</strong>ï¼šåœ¨äº‹ä»¶åˆ—è¡¨ç‚¹å‡»å³ä¾§â€œâ˜†â€æŒ‰é’®ï¼Œå¯å°†è¯¥äº‹ä»¶è®¾ä¸ºçºªå¿µæ—¥ï¼Œæ˜¾ç¤ºåœ¨é¡¶éƒ¨èƒ¶å›ŠåŒºï¼ˆæ–‡å­—è‡ªåŠ¨æˆªå–å‰5ä¸ªå­—ï¼‰ã€‚</li><li><strong>ğŸ’¾ å…¨æ•°æ®åŒæ­¥</strong>ï¼šæ”¯æŒç”ŸæˆåŒ…å«ç…§ç‰‡ã€äº‹ä»¶ã€ä¿¡æ¯çš„å…¨é‡å¤‡ä»½æ–‡ä»¶ï¼Œæ–¹ä¾¿æ¢æœºæ•°æ®è¿ç§»ã€‚</li></ul><h3>ğŸ”’ æ•°æ®å®‰å…¨ä¸éšç§è¯¦è§£</h3><p>å¾ˆå¤šå®¶é•¿æ‹…å¿ƒå®å®çš„ç…§ç‰‡ä¸Šä¼ åˆ°ç½‘ç»œä¼šè¢«æ³„éœ²ï¼Œ<strong>æœ¬é¡¹ç›®ä»æŠ€æœ¯åº•å±‚å½»åº•è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š</strong></p><ul><li><strong>ğŸš« æ— åç«¯æœåŠ¡å™¨</strong>ï¼šæœ¬é¡¹ç›®æ²¡æœ‰åå°æ•°æ®åº“ï¼Œæ²¡æœ‰æœåŠ¡å™¨æ¥æ”¶æ•°æ®ã€‚å®ƒå°±åƒæ‚¨æ‰‹æœºé‡Œçš„â€œè®¡ç®—å™¨â€App ä¸€æ ·ï¼Œæ˜¯ä¸€ä¸ªçº¯ç²¹çš„å·¥å…·ã€‚</li><li><strong>ğŸ”’ æ²™ç›’å­˜å‚¨æœºåˆ¶</strong>ï¼šæ•°æ®å­˜å‚¨ä½¿ç”¨æµè§ˆå™¨çš„ Local Storage æŠ€æœ¯ã€‚è¿™æ„å‘³ç€ï¼š<ul><li><strong>æ•°æ®éš”ç¦»</strong>ï¼šåªæœ‰æ‚¨å½“å‰ä½¿ç”¨çš„è¿™å°æ‰‹æœºèƒ½çœ‹åˆ°è¿™äº›ä¿¡æ¯ã€‚</li><li><strong>æ— æ³•å…±äº«</strong>ï¼šå³ä½¿æ‚¨æŠŠç”Ÿæˆçš„ç½‘å€å‘ç»™äº²å‹ï¼Œä»–ä»¬æ‰“å¼€ä¹Ÿæ˜¯ç©ºç™½çš„ï¼ˆå› ä¸ºæ•°æ®åœ¨æ‚¨çš„æ‰‹æœºé‡Œï¼Œä¸åœ¨ç½‘å€é‡Œï¼‰ã€‚</li><li><strong>ç»å¯¹ç§å¯†</strong>ï¼šé™¤éæœ‰äººç‰©ç†æ¥è§¦å¹¶è§£é”æ‚¨çš„æ‰‹æœºï¼Œå¦åˆ™æ²¡äººèƒ½çœ‹åˆ°è¿™äº›æ•°æ®ã€‚</li></ul></li></ul><h3>ğŸ“± å¦‚ä½•ä½¿ç”¨</h3><ol><li><strong>è¾“å…¥ä¿¡æ¯</strong>ï¼šå¡«å†™å®å®çš„å§“åã€å‡ºç”Ÿæ—¥æœŸå’Œå…·ä½“æ—¶é—´ï¼Œä¸Šä¼ å¤´åƒã€‚</li><li><strong>è½®æ’­ç›¸å†Œ</strong>ï¼šç‚¹å‡»ä¸‹æ–¹çš„å›¾ç‰‡æ¡†ï¼Œå¯ä¸€æ¬¡æ€§é€‰æ‹© 5 å¼ ç…§ç‰‡ä¸Šä¼ ã€‚</li><li><strong>è®°å½•äº‹ä»¶</strong>ï¼šåœ¨ä¸‹æ–¹â€œæˆé•¿å¤§äº‹ä»¶â€æ¡†ä¸­é€‰æ‹©æ—¶é—´ï¼Œè¾“å…¥å†…å®¹ã€‚ç‚¹å‡»â€œ+â€å·æ·»åŠ ã€‚ç‚¹å‡»â€œâœâ€å¯ä¿®æ”¹å†…å®¹ã€‚</li><li><strong>è®¾ä¸ºçºªå¿µæ—¥</strong>ï¼šåœ¨äº‹ä»¶åˆ—è¡¨ä¸­ï¼Œç‚¹å‡»æŸæ¡è®°å½•å†…å®¹å³ä¾§çš„æ˜Ÿæ˜Ÿå›¾æ ‡ï¼Œå®å¿ƒâ€œâ˜…â€ä»£è¡¨å·²è®¾ä¸ºçºªå¿µæ—¥ã€‚</li><li><strong>è·¨è®¾å¤‡åŒæ­¥</strong>ï¼š<span style="color:#ff0000;font-weight:bold">ç‚¹å‡»â€œâ˜ï¸ å¤‡ä»½å…¨éƒ¨æ•°æ®â€ç”Ÿæˆ .json æ–‡ä»¶ï¼Œå°†æ–‡ä»¶å‘é€ç»™æ–°è®¾å¤‡ï¼›åœ¨æ–°è®¾å¤‡ç‚¹å‡»â€œğŸ“¥ æ¢å¤å…¨éƒ¨æ•°æ®â€å¹¶åŠ è½½è¯¥æ–‡ä»¶å³å¯è¿˜åŸæ‰€æœ‰å†…å®¹ã€‚</span></li></ol><h3>âš ï¸ æ³¨æ„äº‹é¡¹</h3><p>ç”±äºæ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨çš„æœ¬åœ°ç¼“å­˜ä¸­ï¼Œè¯·æ³¨æ„ä»¥ä¸‹æƒ…å†µå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼ˆéœ€é‡æ–°è¾“å…¥ï¼‰ï¼š</p><ul><li>æ‰‹åŠ¨æ¸…ç†äº†æµè§ˆå™¨çš„ç¼“å­˜/å†å²è®°å½•ã€‚</li><li>ä½¿ç”¨äº†â€œæ— ç—•æµè§ˆ/éšç§æ¨¡å¼â€æ‰“å¼€ç½‘é¡µã€‚</li><li>å¸è½½å¹¶é‡æ–°å®‰è£…äº†æµè§ˆå™¨ Appã€‚</li></ul><h3>ğŸ“œ ç‰ˆæœ¬è¯´æ˜ (Version History)</h3><div style="margin-top:10px;border-top:1px dashed #eee;padding-top:5px;"><div style="font-weight:bold;color:#ff9a9e;margin-bottom:3px;">æœ€æ–°ç‰ˆæœ¬ V5.5</div><div style="font-size:0.8rem;color:#666;">ä¼˜åŒ–ç§»åŠ¨ç«¯çºªå¿µæ—¥èƒ¶å›Šæ˜¾ç¤ºä½“éªŒï¼›ä¿®æ­£ä½¿ç”¨è¯´æ˜æ–‡æ¡ˆï¼›ç‰ˆæœ¬å·æ›´æ–°ã€‚</div><div style="margin-top:10px;text-align:center;"><button onclick="toggleVer()" style="background:none;border:none;color:#aaa;cursor:pointer;font-size:0.8rem;padding:5px;">ğŸ”½ å±•å¼€/æ”¶èµ· å†å²ç‰ˆæœ¬ (V1.0-V5.2)</button></div><div id="oldVer" style="display:none;margin-top:5px;border-top:1px dashed #eee;"><table class="version-table"><tr><th>ç‰ˆæœ¬</th><th>æè¿°</th></tr><tr><td>V5.2</td><td>ä¼˜åŒ–ç‰ˆæœ¬å†å²è®°å½•UIï¼Œå¢åŠ æŠ˜å æŸ¥çœ‹åŠŸèƒ½ã€‚</td></tr><tr><td>V5.1</td><td>ä¼˜åŒ–åŒæ­¥å¼•å¯¼æ–‡æ¡ˆã€‚</td></tr><tr><td>V5.0</td><td>æ–°å¢å…¨æ•°æ®å¤‡ä»½/æ¢å¤ï¼Œäº‹ä»¶äºŒæ¬¡ç¼–è¾‘ï¼Œæ™ºèƒ½å‹ç¼©ç®—æ³•ã€‚</td></tr><tr><td>V4.9</td><td>ç§»åŠ¨ç«¯UIé€‚é…ä¼˜åŒ–ï¼Œæ–‡æ¡ˆä¿®æ­£ã€‚</td></tr><tr><td>V4.8</td><td>çºªå¿µæ—¥é€»è¾‘é‡æ„ï¼ˆæ˜Ÿæ ‡ç½®é¡¶ã€æŒ‰éœ€æ˜¾ç¤ºï¼‰ã€‚</td></tr><tr><td>V4.1</td><td>æ–°å¢çºªå¿µæ—¥è®¡ç®—ï¼Œå¯¼å…¥æ•°æ®å»é‡åˆå¹¶ã€‚</td></tr><tr><td>V3.0</td><td>æ–°å¢Excelå¯¼å‡ºï¼Œä¸€é”®é‡ç½®ã€‚</td></tr><tr><td>V2.8</td><td>å­˜å‚¨ç»“æ„ä¼˜åŒ–ï¼Œè½®æ’­ä¸Šé™å¢è‡³5å¼ ã€‚</td></tr><tr><td>V2.5</td><td>ç•Œé¢å¸ƒå±€ä¼˜åŒ–ï¼Œå¤§äº‹ä»¶æ”¯æŒçº¯æ—¥æœŸè®°å½•ã€‚</td></tr><tr><td>V2.2</td><td>æ–°å¢æˆé•¿å¤§äº‹ä»¶è®°å½•ã€‚</td></tr><tr><td>V1.5</td><td>æ–°å¢è½®æ’­ç›¸å†ŒåŠŸèƒ½ã€‚</td></tr><tr><td>V1.0</td><td>åŸºç¡€å¹´é¾„è®¡ç®—ï¼Œç…§ç‰‡å¤´åƒï¼Œæ•°æ®æœ¬åœ°å­˜å‚¨ã€‚</td></tr></table></div></div><p style="text-align:right; font-size:0.7rem; color:#ccc; margin-top:10px;">Developer: Don-cy</p><h3>ğŸ› ï¸ æŠ€æœ¯æ ˆ</h3><p>æ ¸å¿ƒè¯­è¨€ï¼šHTML5, CSS3, JS (ES6+)<br>å­˜å‚¨æŠ€æœ¯ï¼šWeb Storage API (localStorage)<br>å›¾åƒå¤„ç†ï¼šCanvas API (ç”¨äºå‰ç«¯å›¾ç‰‡å‹ç¼©ä¸è½¬ç )<br>éƒ¨ç½²æ–¹å¼ï¼šé™æ€é¡µé¢éƒ¨ç½² (Static Hosting)</p></div></div><script>const els={name:document.getElementById('babyName'),date:document.getElementById('dateIn'),hour:document.getElementById('hourIn'),min:document.getElementById('minIn'),result:document.getElementById('result'),photo:document.getElementById('babyPhoto'),placeholder:document.getElementById('photoPlaceholder'),fileIn:document.getElementById('fileInput')};const carouselData={images:[],currentIndex:0,timer:null};let eventData=[];window.onload=function(){loadData();loadCarousel();loadEvents();setInterval(calculateAge,30000);const now=new Date();now.setMinutes(now.getMinutes()-now.getTimezoneOffset());document.getElementById('eventDate').value=now.toISOString().slice(0,16)};[els.name,els.date,els.hour,els.min].forEach(e=>{e.addEventListener('input',()=>{saveData();calculateAge()})});els.fileIn.addEventListener('change',function(e){handleImageUpload(e.target.files[0],d=>{localStorage.setItem('baby_photo_data',d);displayPhoto(d)},300)});document.getElementById('carouselInput').addEventListener('change',function(e){const files=Array.from(e.target.files).slice(0,5);if(e.target.files.length>5)alert("æç¤ºï¼šç³»ç»Ÿè‡ªåŠ¨é€‰å–å‰5å¼ ç…§ç‰‡ã€‚");if(files.length===0)return;let c=0;const arr=[];files.forEach(f=>{handleImageUpload(f,d=>{arr.push(d);c++;if(c===files.length){carouselData.images=arr;saveCarousel();renderCarousel()}},600)})});
function handleImageUpload(f,cb,max){if(!f)return;const perfMax=(navigator.hardwareConcurrency&&navigator.hardwareConcurrency>4)?1024:max;const r=new FileReader();r.onload=function(e){const i=new Image();i.src=e.target.result;i.onload=function(){const c=document.createElement('canvas'),ctx=c.getContext('2d');let w=i.width,h=i.height;if(w>h){if(w>perfMax){h*=perfMax/w;w=perfMax}}else{if(h>perfMax){w*=perfMax/h;h=perfMax}}c.width=w;c.height=h;ctx.drawImage(i,0,0,w,h);cb(c.toDataURL('image/jpeg',0.6))}};r.readAsDataURL(f)}
function renderCarousel(){const s=document.getElementById('carouselSlides'),g=document.getElementById('uploadGuide'),d=document.getElementById('carouselDots'),c=document.getElementById('clearCarouselBtn');if(carouselData.timer)clearInterval(carouselData.timer);s.innerHTML='';d.innerHTML='';if(carouselData.images.length===0){g.style.display='flex';c.style.display='none';return}g.style.display='none';c.style.display='block';carouselData.images.forEach((u,i)=>{const dv=document.createElement('div');dv.className=i===0?'slide active':'slide';dv.innerHTML=`<img src="${u}">`;s.appendChild(dv);const dt=document.createElement('div');dt.className=i===0?'dot active':'dot';d.appendChild(dt)});if(carouselData.images.length>1){carouselData.currentIndex=0;carouselData.timer=setInterval(()=>{const sl=document.querySelectorAll('.slide'),dt=document.querySelectorAll('.dot');sl[carouselData.currentIndex].classList.remove('active');dt[carouselData.currentIndex].classList.remove('active');carouselData.currentIndex=(carouselData.currentIndex+1)%carouselData.images.length;sl[carouselData.currentIndex].classList.add('active');dt[carouselData.currentIndex].classList.add('active')},5000)}}function saveCarousel(){try{localStorage.setItem('baby_carousel_imgs',JSON.stringify(carouselData.images))}catch(e){alert("å›¾ç‰‡è¿‡å¤§")}}function loadCarousel(){const s=localStorage.getItem('baby_carousel_imgs');if(s){carouselData.images=JSON.parse(s);renderCarousel()}}window.clearCarousel=function(e){e.stopPropagation();if(confirm('æ¸…ç©ºç›¸å†Œï¼Ÿ')){carouselData.images=[];localStorage.removeItem('baby_carousel_imgs');renderCarousel()}}
window.addEvent=function(){const d=document.getElementById('eventDate').value,t=document.getElementById('eventText').value,o=document.getElementById('dateOnlyCheck').checked?1:0;if(!d||!t){alert("è¯·å¡«å†™å†…å®¹");return}eventData.push({d:d,t:t,i:Date.now(),o:o,m:0});document.getElementById('eventText').value='';saveEvents();renderEvents()};
window.delEvent=function(id){if(confirm("åˆ é™¤ï¼Ÿ")){eventData=eventData.filter(e=>(e.i||e.id)!==id);saveEvents();renderEvents();calculateAge()}};
window.editEvent=function(id){const ev=eventData.find(e=>(e.i||e.id)===id);if(ev){const newT=prompt("ä¿®æ”¹äº‹ä»¶å†…å®¹ï¼š",ev.t);if(newT!==null&&newT.trim()!==""){ev.t=newT;saveEvents();renderEvents();if(ev.m)calculateAge()}}};
window.toggleStar=function(id){const ev=eventData.find(e=>(e.i||e.id)===id);if(ev){ev.m=ev.m?0:1;saveEvents();renderEvents();calculateAge()}};
function saveEvents(){localStorage.setItem('baby_events_data',JSON.stringify(eventData))}function loadEvents(){const s=localStorage.getItem('baby_events_data');if(s){const tmp=JSON.parse(s);eventData=tmp.map(e=>({d:e.d||e.date,t:e.t||e.text,i:e.i||e.id,o:(e.o!==undefined?e.o:(e.dateOnly?1:0)),m:e.m||0}));renderEvents()}}
function renderEvents(){eventData.sort((a,b)=>new Date(b.d)-new Date(a.d));const l=document.getElementById('eventList');l.innerHTML='';eventData.forEach(e=>{const dt=new Date(e.d),ds=dt.getFullYear()+'/'+(dt.getMonth()+1)+'/'+dt.getDate(),tm=e.o?'':pad(dt.getHours())+':'+pad(dt.getMinutes());const div=document.createElement('div');div.className='event-item';div.innerHTML=`<div class="event-del" onclick="delEvent(${e.i})">Ã—</div><div class="edit-btn" onclick="editEvent(${e.i})">âœ</div><div class="event-time-row">${ds} ${tm}</div><div class="event-content-flex"><span class="event-text">${e.t}</span><span class="star-btn" onclick="toggleStar(${e.i})">${e.m?'â˜…':'â˜†'}</span></div>`;l.appendChild(div)})}
window.exportExcel=function(){if(eventData.length===0){alert("æš‚æ— æ•°æ®");return}let c="\uFEFFæ—¥æœŸ,æ—¶é—´,äº‹ä»¶å†…å®¹\n";eventData.forEach(e=>{const d=new Date(e.d),ds=d.getFullYear()+'/'+(d.getMonth()+1)+'/'+d.getDate(),tm=e.o?'':pad(d.getHours())+':'+pad(d.getMinutes()),tx=e.t.replace(/"/g,'""');c+=`"${ds}","${tm}","${tx}"\n`});const b=new Blob([c],{type:'text/csv;charset=utf-8;'});const u=URL.createObjectURL(b),k=document.createElement("a");k.href=u;k.download="baby_events.csv";document.body.appendChild(k);k.click();document.body.removeChild(k)}
window.importExcel=function(){document.getElementById('importInput').click()};document.getElementById('importInput').addEventListener('change',function(e){const f=e.target.files[0];if(!f)return;const r=new FileReader();r.onload=function(ev){const t=ev.target.result;const l=t.split('\n');let cnt=0;for(let i=1;i<l.length;i++){const ln=l[i].trim();if(ln){const p=parseCSVLine(ln);if(p.length>=3){let dStr=p[0].replace(/\//g,'-');const tStr=p[1],cStr=p[2];let isoD=dStr;if(dStr.split('-')[1].length===1)dStr=dStr.split('-')[0]+'-0'+dStr.split('-')[1]+'-'+dStr.split('-')[2];if(dStr.split('-')[2].length===1)dStr=dStr.split('-')[0]+'-'+dStr.split('-')[1]+'-0'+dStr.split('-')[2];if(tStr)isoD+='T'+tStr;else isoD+='T00:00';const isO=tStr?0:1;const exist=eventData.some(old=>old.d===isoD&&old.t===cStr&&old.o===isO);if(!exist){eventData.push({d:isoD,t:cStr,i:Date.now()+i,o:isO,m:0});cnt++}}}}if(cnt>0){saveEvents();renderEvents();alert("å¯¼å…¥æˆåŠŸï¼Œæ–°å¢ "+cnt+" æ¡è®°å½•")}else{alert("æœªå‘ç°æ–°è®°å½•æˆ–æ–‡ä»¶æ ¼å¼é”™è¯¯")}};r.readAsText(f)});function parseCSVLine(t){const r=[];let c='',iq=false;for(let i=0;i<t.length;i++){const char=t[i];if(char==='"'&&t[i+1]==='"'){c+='"';i++}else if(char==='"'){iq=!iq}else if(char===','&&!iq){r.push(c);c=''}else{c+=char}}r.push(c);return r}
window.exportAllData=function(){const d={info:localStorage.getItem('baby_info_data'),photo:localStorage.getItem('baby_photo_data'),carousel:localStorage.getItem('baby_carousel_imgs'),events:localStorage.getItem('baby_events_data')};const b=new Blob([JSON.stringify(d)],{type:'application/json'});const u=URL.createObjectURL(b),k=document.createElement("a");k.href=u;k.download="baby_full_backup.json";document.body.appendChild(k);k.click();document.body.removeChild(k)}
window.importAllData=function(){document.getElementById('jsonInput').click()};document.getElementById('jsonInput').addEventListener('change',function(e){const f=e.target.files[0];if(!f)return;const r=new FileReader();r.onload=function(ev){try{const d=JSON.parse(ev.target.result);if(d.info)localStorage.setItem('baby_info_data',d.info);if(d.photo)localStorage.setItem('baby_photo_data',d.photo);if(d.carousel)localStorage.setItem('baby_carousel_imgs',d.carousel);if(d.events)localStorage.setItem('baby_events_data',d.events);alert("æ¢å¤æˆåŠŸï¼Œå³å°†åˆ·æ–°");location.reload()}catch(err){alert("æ–‡ä»¶æŸå")}};r.readAsText(f)});
window.resetApp=function(){if(confirm("âš ï¸ è­¦å‘Šï¼šå°†æ°¸ä¹…åˆ é™¤æ‰€æœ‰ç…§ç‰‡å’Œè®°å½•ä¸”æ— æ³•æ¢å¤ï¼ç¡®å®šé‡ç½®ï¼Ÿ")){localStorage.clear();location.reload()}}
function displayPhoto(s){if(s){els.photo.src=s;els.photo.style.display='block';els.placeholder.style.display='none'}}function saveData(){localStorage.setItem('baby_info_data',JSON.stringify({name:els.name.value,date:els.date.value,hour:els.hour.value,min:els.min.value}))}function loadData(){const s=localStorage.getItem('baby_info_data');if(s){const d=JSON.parse(s);els.name.value=d.name||'';els.date.value=d.date||'';els.hour.value=d.hour||'';els.min.value=d.min||'';calculateAge()}const p=localStorage.getItem('baby_photo_data');if(p)displayPhoto(p)}function calculateAge(){const dVal=els.date.value;if(!dVal)return;const hVal=parseInt(els.hour.value)||0,mVal=parseInt(els.min.value)||0;const birthDate=new Date(`${dVal}T00:00:00`);birthDate.setHours(hVal);birthDate.setMinutes(mVal);const now=new Date();if(birthDate>now){els.result.innerHTML='<span style="color:#ff6b6b">æ—¶é—´è®¾ç½®åœ¨æœªæ¥äº†å“¦~</span>';return}let years=now.getFullYear()-birthDate.getFullYear(),months=now.getMonth()-birthDate.getMonth(),days=now.getDate()-birthDate.getDate(),hours=now.getHours()-birthDate.getHours(),minutes=now.getMinutes()-birthDate.getMinutes();if(minutes<0){minutes+=60;hours--}if(hours<0){hours+=24;days--}if(days<0){days+=new Date(now.getFullYear(),now.getMonth(),0).getDate();months--}if(months<0){months+=12;years--}const totalDays=Math.floor((now-birthDate)/(1000*60*60*24));const name=els.name.value?els.name.value:'å®å®';els.result.innerHTML=`<div class="age-main">${name}å·²ç»</div><div style="margin-bottom:10px;"><span class="number-highlight">${years}</span>å²<span class="number-highlight">${months}</span>ä¸ªæœˆ<span class="number-highlight">${days}</span>å¤©</div><div class="age-sub"><span class="number-highlight" style="font-size:1.2rem">${pad(hours)}</span>å°æ—¶<span class="number-highlight" style="font-size:1.2rem">${pad(minutes)}</span>åˆ†</div><div class="total-days-badge">å·²å‡ºç”Ÿ ${totalDays} å¤©</div>`;calcMilestones(birthDate,years)}function calcMilestones(b,curY){const ms=document.getElementById('milestoneList');ms.innerHTML='';const list=[];const now=new Date();now.setHours(23,59,59,999);const fm=new Date(b);fm.setMonth(fm.getMonth()+1);if(now>=fm)list.push({d:fm,t:"æ»¡æœˆçºªå¿µ"});const hd=new Date(b);hd.setDate(hd.getDate()+100);if(now>=hd)list.push({d:hd,t:"ç™¾å¤©çºªå¿µ"});const yd=new Date(b);yd.setFullYear(yd.getFullYear()+1);if(now>=yd)list.push({d:yd,t:"1å‘¨å²çºªå¿µ"});eventData.forEach(e=>{if(e.m){let t=e.t;if(t.length>5)t=t.substring(0,5);list.push({d:new Date(e.d),t:t,i:e.i,isManual:true})}});list.sort((x,y)=>x.d-y.d);list.forEach(m=>{const ds=m.d.getFullYear()+'å¹´'+(m.d.getMonth()+1)+'æœˆ'+m.d.getDate()+'æ—¥';const dv=document.createElement('div');dv.className='milestone-badge';let h=ds+' '+m.t;if(m.isManual)h+=` <span style="cursor:pointer;margin-left:5px;" onclick="toggleStar(${m.i})">Ã—</span>`;dv.innerHTML=h;ms.appendChild(dv)})}function pad(n){return n<10?'0'+n:n}const modal=document.getElementById("infoModal"),btn=document.getElementById("infoBtn"),span=document.getElementsByClassName("close-btn")[0];btn.onclick=()=>modal.style.display="block";span.onclick=()=>modal.style.display="none";window.onclick=(e)=>{if(e.target==modal)modal.style.display="none"};window.toggleVer=function(){const v=document.getElementById('oldVer');v.style.display=v.style.display==='none'?'block':'none'}</script></body></html>
