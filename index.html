<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="color-scheme" content="light">
<title>å®å®æˆé•¿è®°å½• V2.2</title>
<style>
:root{color-scheme:light}body{font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Microsoft YaHei",sans-serif;background-color:#fff0f5!important;background-image:linear-gradient(180deg,#fff0f5 0%,#e6f7ff 100%)!important;display:flex;justify-content:center;align-items:center;flex-direction:column;min-height:100vh;margin:0;color:#444;-webkit-tap-highlight-color:transparent;padding:20px 0;box-sizing:border-box}.container{background-color:#fff;padding:25px;border-radius:24px;box-shadow:0 10px 40px rgba(180,150,160,0.4);text-align:center;width:85%;max-width:400px;border:4px solid #fff;position:relative;z-index:10}.photo-wrapper{position:relative;width:120px;height:120px;margin:-60px auto 15px auto;border-radius:50%;border:4px solid #fff;box-shadow:0 5px 15px rgba(0,0,0,0.1);background-color:#f0f0f0;overflow:hidden;cursor:pointer;-webkit-transform:translateZ(0);-webkit-mask-image:-webkit-radial-gradient(white,black)}#babyPhoto{width:100%;height:100%;object-fit:cover;display:block}.photo-placeholder{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;color:#aaa;font-size:.8rem;background:#f8f8f8;text-align:center;line-height:1.2}#fileInput{display:none}.name-input{border:none;border-bottom:2px solid #ffd1d1;text-align:center;font-size:1.5rem;font-weight:bold;color:#555;width:80%;margin-bottom:20px;background:transparent;outline:none;padding:5px;border-radius:0}.name-input:focus{border-bottom-color:#ff9a9e}.input-group{background:#f9f9f9;padding:15px;border-radius:12px;margin-bottom:20px;text-align:left}label{font-size:.85rem;color:#888;margin-bottom:5px;display:block}input[type=date],input[type=datetime-local]{width:100%;padding:8px;border:1px solid #eee;border-radius:8px;font-size:1rem;box-sizing:border-box;margin-bottom:10px;background:#fff;-webkit-appearance:none}.time-row{display:flex;align-items:center;justify-content:space-between}.time-box{flex:1;display:flex;align-items:center;background:#fff;border:1px solid #eee;border-radius:8px;padding:5px 10px}.time-box input{border:none;width:100%;font-size:1.2rem;text-align:center;outline:none;color:#444;background:transparent}.colon{margin:0 10px;font-weight:bold;color:#ccc}#result{background:linear-gradient(135deg,#fff6f6 0%,#fff 100%);border:2px dashed #ffd1d1;border-radius:15px;padding:20px;min-height:80px}.age-main{color:#ff7eb3;font-size:1.2rem;font-weight:bold;margin-bottom:8px}.age-sub{color:#888;font-size:1rem}.number-highlight{font-size:1.6rem;color:#ff5e62;margin:0 2px;font-family:'Arial Rounded MT Bold',sans-serif}.total-days-badge{display:inline-block;margin-top:15px;padding:6px 18px;background-color:#ffe6ea;color:#ff5e62;border-radius:20px;font-size:.95rem;font-weight:bold;border:1px solid #ffccd5}.carousel-box{margin-top:20px;width:100%;aspect-ratio:16/9;background-color:#f9f9f9;border-radius:15px;position:relative;overflow:hidden;box-shadow:0 4px 10px rgba(0,0,0,0.05);border:1px solid #f0f0f0}.slide{position:absolute;width:100%;height:100%;opacity:0;transition:opacity 1s ease-in-out}.slide.active{opacity:1}.slide img{width:100%;height:100%;object-fit:cover;display:block}.upload-guide{position:absolute;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;color:#aaa;z-index:5;background-color:#fafafa}.clear-carousel{position:absolute;top:5px;right:5px;background:rgba(0,0,0,0.3);color:#fff;border:none;border-radius:50%;width:24px;height:24px;cursor:pointer;z-index:20;display:none;font-size:16px}.dots{position:absolute;bottom:10px;left:0;width:100%;display:flex;justify-content:center;z-index:10}.dot{width:6px;height:6px;background:rgba(255,255,255,0.5);border-radius:50%;margin:0 3px;transition:background .3s}.dot.active{background:#fff}#carouselInput{display:none}.event-box{margin-top:20px;width:100%;background-color:#f9f9f9;border-radius:15px;border:1px solid #f0f0f0;box-shadow:0 4px 10px rgba(0,0,0,0.05);padding:15px;box-sizing:border-box;text-align:left}.event-title{font-size:1rem;color:#ff9a9e;font-weight:bold;margin-bottom:10px;text-align:center;border-bottom:1px dashed #ffd1d1;padding-bottom:5px}.event-input-row{display:flex;gap:5px;margin-bottom:10px}.event-input-row input{border:1px solid #eee;border-radius:6px;padding:5px;font-size:0.85rem;outline:none}.event-date-in{width:40%}.event-text-in{width:60%}.event-add-btn{background:#ff9a9e;color:#fff;border:none;border-radius:6px;padding:0 10px;font-size:1.2rem;cursor:pointer}.event-list{max-height:220px;overflow-y:auto;scrollbar-width:thin}.event-item{display:flex;justify-content:space-between;align-items:center;background:#fff;padding:8px;border-radius:8px;margin-bottom:6px;font-size:0.85rem;box-shadow:0 2px 5px rgba(0,0,0,0.02)}.event-time{color:#999;font-size:0.75rem;margin-right:8px;min-width:70px}.event-content{flex:1;color:#555;word-break:break-all}.event-del{color:#ccc;margin-left:5px;cursor:pointer;font-size:1rem}.tips{font-size:.7rem;color:#bbb;margin-top:15px}.info-btn-wrapper{text-align:center;margin-top:15px;padding-bottom:20px}.info-btn{background:none;border:none;color:#999;font-size:.85rem;cursor:pointer;padding:5px 10px;border-bottom:1px dashed #ccc}.modal{display:none;position:fixed;z-index:999;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,0.5);backdrop-filter:blur(3px);animation:fadeIn .3s}.modal-content{background-color:#fff;margin:5% auto;padding:25px;border:1px solid #ffe6ea;width:85%;max-width:500px;border-radius:20px;box-shadow:0 15px 50px rgba(0,0,0,0.2);text-align:left;position:relative;max-height:80vh;overflow-y:auto}.modal-content h2{color:#ff5e62;font-size:1.1rem;margin-top:0;text-align:center;border-bottom:2px solid #fff0f5;padding-bottom:10px}.modal-content h3{color:#444;font-size:.95rem;margin-top:20px;margin-bottom:8px;border-left:4px solid #ff9a9e;padding-left:8px}.modal-content p,.modal-content li{color:#666;font-size:.85rem;line-height:1.6}.modal-content ul,.modal-content ol{padding-left:20px;margin:5px 0}.security-box{background:#fff0f5;padding:12px;border-radius:8px;border:1px solid #ffccd5;margin-bottom:15px}.security-text{color:#d64545;font-size:.85rem}.close-btn{color:#aaa;float:right;font-size:28px;font-weight:bold;cursor:pointer;margin-top:-10px;margin-right:-10px}.version-table{width:100%;border-collapse:collapse;margin-top:10px;font-size:0.8rem}.version-table th{text-align:left;color:#ff9a9e;border-bottom:1px solid #eee;padding:5px}.version-table td{padding:5px;color:#666;border-bottom:1px solid #f9f9f9}@keyframes fadeIn{from{opacity:0}to{opacity:1}}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}
</style>
</head>
<body>
<div class="container">
    <input type="file" id="fileInput" accept="image/*">
    <div class="photo-wrapper" onclick="document.getElementById('fileInput').click()">
        <img id="babyPhoto" style="display:none;" alt="å®å®ç…§ç‰‡">
        <div id="photoPlaceholder" class="photo-placeholder">ç‚¹å‡»ä¸Šä¼ <br>å¤´åƒ</div>
    </div>
    <input type="text" id="babyName" class="name-input" placeholder="è¾“å…¥å®å®å§“å">
    <div class="input-group">
        <label>å‡ºç”Ÿæ—¥æœŸä¸æ—¶é—´</label>
        <input type="date" id="dateIn">
        <div class="time-row">
            <div class="time-box"><input type="number" id="hourIn" placeholder="12" min="0" max="23"><span style="font-size:0.8rem; color:#aaa;">æ—¶</span></div>
            <div class="colon">:</div>
            <div class="time-box"><input type="number" id="minIn" placeholder="00" min="0" max="59"><span style="font-size:0.8rem; color:#aaa;">åˆ†</span></div>
        </div>
    </div>
    <div id="result"><div style="color:#ccc; padding-top:10px;">è¯·è¾“å…¥å‡ºç”Ÿä¿¡æ¯...</div></div>
    <div class="carousel-box">
        <input type="file" id="carouselInput" accept="image/*" multiple>
        <div id="carouselSlides"></div>
        <div id="uploadGuide" class="upload-guide" onclick="document.getElementById('carouselInput').click()">
            <div style="font-size:2rem; color:#ddd;">+</div>
            <div style="margin-top:5px;">ä¸Šä¼ 3å¼ ç”Ÿæ´»ç…§<br><span style="font-size:0.7rem">(5ç§’è½®æ’­)</span></div>
        </div>
        <div id="carouselDots" class="dots"></div>
        <button id="clearCarouselBtn" class="clear-carousel" onclick="clearCarousel(event)">Ã—</button>
    </div>
    <div class="event-box">
        <div class="event-title">ğŸ“… å®è´æˆé•¿å¤§äº‹ä»¶</div>
        <div class="event-input-row">
            <input type="datetime-local" id="eventDate" class="event-date-in">
            <input type="text" id="eventText" class="event-text-in" placeholder="è®°å½•ç¬¬ä¸€æ¬¡...">
            <button class="event-add-btn" onclick="addEvent()">+</button>
        </div>
        <div id="eventList" class="event-list"></div>
    </div>
    <div class="tips">* ä¿¡æ¯å’Œç…§ç‰‡ä»…ä¿å­˜åœ¨æ‚¨çš„æ‰‹æœºæœ¬åœ°</div>
</div>
<div class="info-btn-wrapper"><button id="infoBtn" class="info-btn">ğŸ“– ä½¿ç”¨è¯´æ˜ä¸å®‰å…¨å£°æ˜</button></div>
<div id="infoModal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2>å®å®æˆé•¿è®°å½•ä¸æ—¶å…‰è®¡ç®—å™¨<br><span style="font-size:0.8em;font-weight:normal;color:#888">(çº¯å‡€éšç§ç‰ˆ)</span></h2>
        <div class="security-box"><div class="security-text"><strong>ğŸ›¡ï¸ é¡¹ç›®å®‰å…¨æ ¸å¿ƒå£°æ˜ï¼š</strong><br>æœ¬å·¥å…·é‡‡ç”¨ 100% çº¯å‰ç«¯æ¶æ„è®¾è®¡ï¼Œæ‰¿è¯ºâ€œæ•°æ®é›¶ä¸Šä¼ â€ã€‚æ‰€æœ‰ç…§ç‰‡ã€å§“åã€å‡ºç”Ÿæ—¥æœŸã€å¤§äº‹ä»¶ç­‰ä¿¡æ¯ä»…ä¿å­˜åœ¨ç”¨æˆ·<strong>å½“å‰çš„æ‰‹æœº/ç”µè„‘æµè§ˆå™¨ç¼“å­˜</strong>ä¸­ï¼Œç»ä¸ä¼šç»è¿‡ä»»ä½•æœåŠ¡å™¨ï¼Œä¹Ÿä¸ä¼šè¢«å¼€å‘è€…æˆ–ç¬¬ä¸‰æ–¹è·å–ã€‚æ‚¨çš„æ•°æ®ï¼Œåªå±äºæ‚¨è‡ªå·±ã€‚</div></div>
        <h3>ğŸ“– é¡¹ç›®ç®€ä»‹</h3><p>è¿™æ˜¯ä¸€ä¸ªä¸“ä¸ºæ–°æ‰‹çˆ¶æ¯è®¾è®¡çš„è½»é‡çº§ç½‘é¡µåº”ç”¨ã€‚å®ƒæ‘’å¼ƒäº†ä¼ ç»Ÿ App éœ€è¦æ³¨å†Œç™»å½•ã€ä¸Šä¼ æ•°æ®çš„ç¹çæµç¨‹ï¼Œæä¾›äº†ä¸€ä¸ªå³å¼€å³ç”¨ã€ç²¾ç¡®åˆ°åˆ†é’Ÿçš„å®å®å¹´é¾„è®¡ç®—å™¨ã€‚ç•Œé¢é‡‡ç”¨æ¸©é¦¨çš„æ¨±èŠ±ç²‰è‰²è°ƒï¼Œä¸ä»…èƒ½å®æ—¶æ˜¾ç¤ºå®å®çš„ç²¾ç¡®å¹´é¾„ï¼Œè¿˜èƒ½è‡ªåŠ¨è®¡ç®—â€œå·²å‡ºç”Ÿæ€»å¤©æ•°â€ã€‚</p>
        <h3>âœ¨ æ ¸å¿ƒåŠŸèƒ½</h3>
        <ul>
            <li><strong>ğŸ“¸ æœ¬åœ°åŒ–ç…§ç‰‡è®°å¿†</strong>ï¼šæ”¯æŒç”¨æˆ·ä¸Šä¼ å®å®ç…§ç‰‡ï¼ˆå¤´åƒï¼‰ä»¥åŠ3å¼ ç”Ÿæ´»ç…§è½®æ’­ã€‚ç³»ç»Ÿè‡ªåŠ¨è£å‰ªï¼Œæœ¬åœ°å‹ç¼©å­˜å‚¨ã€‚</li>
            <li><strong>â±ï¸ ç²¾å‡†æ—¶å…‰è®¡ç®—</strong>ï¼šè‡ªåŠ¨å¤„ç†é—°å¹´ã€å¤§å°æœˆé€»è¾‘ã€‚å®æ—¶è®¡ç®—å¹¶æ˜¾ç¤ºï¼šXå² Xä¸ªæœˆ Xå¤© Xå°æ—¶ Xåˆ†ã€‚</li>
            <li><strong>ğŸ“… æˆé•¿å¤§äº‹ä»¶</strong>ï¼šè®°å½•å®å®çš„æ¯ä¸€ä¸ªç¬¬ä¸€æ¬¡ï¼Œæ”¯æŒç²¾ç¡®åˆ°åˆ†é’Ÿï¼Œè‡ªåŠ¨æŒ‰æ—¶é—´æ’åºã€‚</li>
            <li><strong>ğŸ’¾ æ™ºèƒ½æ•°æ®æŒä¹…åŒ–</strong>ï¼šè‡ªåŠ¨ä¿å­˜è¾“å…¥çš„åå­—ã€æ—¥æœŸã€ç…§ç‰‡åŠäº‹ä»¶è®°å½•ã€‚</li>
        </ul>
        <h3>ğŸ”’ æ•°æ®å®‰å…¨ä¸éšç§è¯¦è§£</h3>
        <p>å¾ˆå¤šå®¶é•¿æ‹…å¿ƒå®å®çš„ç…§ç‰‡ä¸Šä¼ åˆ°ç½‘ç»œä¼šè¢«æ³„éœ²ï¼Œ<strong>æœ¬é¡¹ç›®ä»æŠ€æœ¯åº•å±‚å½»åº•è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š</strong></p>
        <ul>
            <li><strong>ğŸš« æ— åç«¯æœåŠ¡å™¨</strong>ï¼šæ²¡æœ‰åå°æ•°æ®åº“ï¼Œæ²¡æœ‰æœåŠ¡å™¨æ¥æ”¶æ•°æ®ã€‚</li>
            <li><strong>ğŸ”’ æ²™ç›’å­˜å‚¨æœºåˆ¶</strong>ï¼šæ•°æ®å­˜å‚¨ä½¿ç”¨æµè§ˆå™¨çš„ Local Storage æŠ€æœ¯ã€‚æ•°æ®éš”ç¦»ï¼Œæ— æ³•å…±äº«ï¼Œç»å¯¹ç§å¯†ã€‚</li>
        </ul>
        <h3>ğŸ“± å¦‚ä½•ä½¿ç”¨</h3>
        <ol>
            <li><strong>è¾“å…¥ä¿¡æ¯</strong>ï¼šå¡«å†™å®å®çš„å°åã€å‡ºç”Ÿæ—¥æœŸå’Œå…·ä½“æ—¶é—´ï¼Œä¸Šä¼ å¤´åƒã€‚</li>
            <li><strong>è½®æ’­ç›¸å†Œ</strong>ï¼šç‚¹å‡»ä¸‹æ–¹çš„å›¾ç‰‡æ¡†ï¼Œå¯ä¸€æ¬¡æ€§é€‰æ‹©3å¼ ç…§ç‰‡ä¸Šä¼ ï¼Œè‡ªåŠ¨è½®æ’­ã€‚</li>
            <li><strong>è®°å½•äº‹ä»¶</strong>ï¼šåœ¨â€œæˆé•¿å¤§äº‹ä»¶â€åŒºåŸŸï¼Œé€‰æ‹©æ—¥æœŸï¼ˆå¯é€‰å…·ä½“æ—¶é—´ï¼‰ï¼Œè¾“å…¥å†…å®¹ï¼Œç‚¹å‡»â€œ+â€å·æ·»åŠ ã€‚åˆ—è¡¨è‡ªåŠ¨æŒ‰æ—¶é—´å€’åºæ’åˆ—ã€‚</li>
        </ol>
        <h3>âš ï¸ æ³¨æ„äº‹é¡¹</h3><p>ç”±äºæ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨çš„æœ¬åœ°ç¼“å­˜ä¸­ï¼Œæ‰‹åŠ¨æ¸…ç†æµè§ˆå™¨ç¼“å­˜ã€ä½¿ç”¨æ— ç—•æ¨¡å¼æˆ–å¸è½½æµè§ˆå™¨ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</p>
        <h3>ğŸ“œ ç‰ˆæœ¬è¯´æ˜ (Version History)</h3>
        <table class="version-table"><tr><th>ç‰ˆæœ¬</th><th>æè¿°</th></tr><tr><td>V1.0</td><td>åŸºç¡€å¹´é¾„è®¡ç®—ï¼Œç…§ç‰‡å¤´åƒï¼Œæ•°æ®æœ¬åœ°å­˜å‚¨ã€‚</td></tr><tr><td>V1.5</td><td>æ–°å¢è½®æ’­ç›¸å†ŒåŠŸèƒ½ã€‚</td></tr><tr><td>V2.2</td><td>æ–°å¢æˆé•¿å¤§äº‹ä»¶è®°å½•ï¼Œç•Œé¢ä¼˜åŒ–ã€‚</td></tr></table>
        <p style="text-align:right; font-size:0.7rem; color:#ccc; margin-top:10px;">Developer: Don-cy</p>
        <h3>ğŸ› ï¸ æŠ€æœ¯æ ˆ</h3><p>æ ¸å¿ƒè¯­è¨€ï¼šHTML5, CSS3, JS (ES6+)<br>å­˜å‚¨æŠ€æœ¯ï¼šWeb Storage API (localStorage)<br>å›¾åƒå¤„ç†ï¼šCanvas API (ç”¨äºå‰ç«¯å›¾ç‰‡å‹ç¼©ä¸è½¬ç )<br>éƒ¨ç½²æ–¹å¼ï¼šé™æ€é¡µé¢éƒ¨ç½² (Static Hosting)</p>
    </div>
</div>
<script>
    const els={name:document.getElementById('babyName'),date:document.getElementById('dateIn'),hour:document.getElementById('hourIn'),min:document.getElementById('minIn'),result:document.getElementById('result'),photo:document.getElementById('babyPhoto'),placeholder:document.getElementById('photoPlaceholder'),fileIn:document.getElementById('fileInput')};
    const carouselData={images:[],currentIndex:0,timer:null}; let eventData = [];
    window.onload=function(){loadData();loadCarousel();loadEvents();setInterval(calculateAge,30000);const now=new Date();now.setMinutes(now.getMinutes()-now.getTimezoneOffset());document.getElementById('eventDate').value=now.toISOString().slice(0,16);};
    [els.name,els.date,els.hour,els.min].forEach(el=>{el.addEventListener('input',()=>{saveData();calculateAge()})});
    els.fileIn.addEventListener('change',function(e){handleImageUpload(e.target.files[0],(dataURL)=>{localStorage.setItem('baby_photo_data',dataURL);displayPhoto(dataURL)},300)});
    document.getElementById('carouselInput').addEventListener('change',function(e){const files=Array.from(e.target.files).slice(0,3);if(files.length===0)return;let c=0;const arr=[];files.forEach(f=>{handleImageUpload(f,(d)=>{arr.push(d);c++;if(c===files.length){carouselData.images=arr;saveCarousel();renderCarousel()}},600)})});
    function handleImageUpload(file,cb,max){if(!file)return;const r=new FileReader();r.onload=function(e){const i=new Image();i.src=e.target.result;i.onload=function(){const c=document.createElement('canvas'),ctx=c.getContext('2d');let w=i.width,h=i.height;if(w>h){if(w>max){h*=max/w;w=max}}else{if(h>max){w*=max/h;h=max}}c.width=w;c.height=h;ctx.drawImage(i,0,0,w,h);cb(c.toDataURL('image/jpeg',0.6))}};r.readAsDataURL(file)}
    function renderCarousel(){const s=document.getElementById('carouselSlides'),g=document.getElementById('uploadGuide'),d=document.getElementById('carouselDots'),c=document.getElementById('clearCarouselBtn');if(carouselData.timer)clearInterval(carouselData.timer);s.innerHTML='';d.innerHTML='';if(carouselData.images.length===0){g.style.display='flex';c.style.display='none';return}g.style.display='none';c.style.display='block';carouselData.images.forEach((u,i)=>{const dv=document.createElement('div');dv.className=i===0?'slide active':'slide';dv.innerHTML=`<img src="${u}">`;s.appendChild(dv);const dt=document.createElement('div');dt.className=i===0?'dot active':'dot';d.appendChild(dt)});if(carouselData.images.length>1){carouselData.currentIndex=0;carouselData.timer=setInterval(()=>{const sl=document.querySelectorAll('.slide'),dt=document.querySelectorAll('.dot');sl[carouselData.currentIndex].classList.remove('active');dt[carouselData.currentIndex].classList.remove('active');carouselData.currentIndex=(carouselData.currentIndex+1)%carouselData.images.length;sl[carouselData.currentIndex].classList.add('active');dt[carouselData.currentIndex].classList.add('active')},5000)}}
    function saveCarousel(){try{localStorage.setItem('baby_carousel_imgs',JSON.stringify(carouselData.images))}catch(e){alert("å›¾ç‰‡è¿‡å¤§")}}
    function loadCarousel(){const s=localStorage.getItem('baby_carousel_imgs');if(s){carouselData.images=JSON.parse(s);renderCarousel()}}
    window.clearCarousel=function(e){e.stopPropagation();if(confirm('æ¸…ç©ºç›¸å†Œï¼Ÿ')){carouselData.images=[];localStorage.removeItem('baby_carousel_imgs');renderCarousel()}}
    window.addEvent=function(){const d=document.getElementById('eventDate').value,t=document.getElementById('eventText').value;if(!d||!t){alert("è¯·å¡«å†™");return}eventData.push({date:d,text:t,id:Date.now()});document.getElementById('eventText').value='';saveEvents();renderEvents()};
    window.delEvent=function(id){if(confirm("åˆ é™¤ï¼Ÿ")){eventData=eventData.filter(e=>e.id!==id);saveEvents();renderEvents()}};
    function saveEvents(){localStorage.setItem('baby_events_data',JSON.stringify(eventData))}
    function loadEvents(){const s=localStorage.getItem('baby_events_data');if(s){eventData=JSON.parse(s);renderEvents()}}
    function renderEvents(){eventData.sort((a,b)=>new Date(b.date)-new Date(a.date));const l=document.getElementById('eventList');l.innerHTML='';eventData.forEach(i=>{const d=new Date(i.date),ds=d.getFullYear()+'/'+(d.getMonth()+1)+'/'+d.getDate(),ts=(d.getHours()===0&&d.getMinutes()===0)?'':' '+pad(d.getHours())+':'+pad(d.getMinutes());const div=document.createElement('div');div.className='event-item';div.innerHTML=`<span class="event-time">${ds}<br>${ts}</span><span class="event-content">${i.text}</span><span class="event-del" onclick="delEvent(${i.id})">Ã—</span>`;l.appendChild(div)})}
    function displayPhoto(s){if(s){els.photo.src=s;els.photo.style.display='block';els.placeholder.style.display='none'}}
    function saveData(){localStorage.setItem('baby_info_data',JSON.stringify({name:els.name.value,date:els.date.value,hour:els.hour.value,min:els.min.value}))}
    function loadData(){const s=localStorage.getItem('baby_info_data');if(s){const d=JSON.parse(s);els.name.value=d.name||'';els.date.value=d.date||'';els.hour.value=d.hour||'';els.min.value=d.min||'';calculateAge()}const p=localStorage.getItem('baby_photo_data');if(p)displayPhoto(p)}
    function calculateAge(){const dVal=els.date.value;if(!dVal)return;const hVal=parseInt(els.hour.value)||0,mVal=parseInt(els.min.value)||0;const birthDate=new Date(`${dVal}T00:00:00`);birthDate.setHours(hVal);birthDate.setMinutes(mVal);const now=new Date();if(birthDate>now){els.result.innerHTML='<span style="color:#ff6b6b">æ—¶é—´è®¾ç½®åœ¨æœªæ¥äº†å“¦~</span>';return}let years=now.getFullYear()-birthDate.getFullYear(),months=now.getMonth()-birthDate.getMonth(),days=now.getDate()-birthDate.getDate(),hours=now.getHours()-birthDate.getHours(),minutes=now.getMinutes()-birthDate.getMinutes();if(minutes<0){minutes+=60;hours--}if(hours<0){hours+=24;days--}if(days<0){days+=new Date(now.getFullYear(),now.getMonth(),0).getDate();months--}if(months<0){months+=12;years--}const totalDays=Math.floor((now-birthDate)/(1000*60*60*24));const name=els.name.value?els.name.value:'å®å®';els.result.innerHTML=`<div class="age-main">${name}å·²ç»</div><div style="margin-bottom:10px;"><span class="number-highlight">${years}</span>å²<span class="number-highlight">${months}</span>ä¸ªæœˆ<span class="number-highlight">${days}</span>å¤©</div><div class="age-sub"><span class="number-highlight" style="font-size:1.2rem">${pad(hours)}</span>å°æ—¶<span class="number-highlight" style="font-size:1.2rem">${pad(minutes)}</span>åˆ†</div><div class="total-days-badge">å·²å‡ºç”Ÿ ${totalDays} å¤©</div>`}
    function pad(n){return n<10?'0'+n:n}
    const modal=document.getElementById("infoModal"),btn=document.getElementById("infoBtn"),span=document.getElementsByClassName("close-btn")[0];btn.onclick=()=>modal.style.display="block";span.onclick=()=>modal.style.display="none";window.onclick=(e)=>{if(e.target==modal)modal.style.display="none"};
</script>
</body>
</html>
